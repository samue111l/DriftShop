<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1{
            color:red;
        }
    </style>
</head>
<body>

<h1>Vista</h1>


<form action="/tienda" method="get">
    Acceda a nuestra tienda: 
    <input type="hidden" name="task" value="tienda">
    <input type="submit" value="Tienda">
</form>
<br>
<form action="/taller" method="get">
    Revise los servicios del taller: 
    <input type="hidden" name="task" value="taller">
    <input type="submit" value="Taller">
</form>


<form action="/registrarUsuario" method="get">
  <input type="text" name="nombreRegistro" placeholder="Nombre de Perfil">
  <input type="text" name="contrasenaRegistro" placeholder="contrasena">
  <input type="text" name="correoRegistro" placeholder="correo">
  <input type="hidden" name="task" value="registrarUsuario">
  <input type="submit" value="Enviar">
</form>

<form action="/login" method="get">
  <input type="text" name="nombreRegistro" placeholder="Nombre de Perfil">
  <input type="text" name="contrasenaRegistro" placeholder="contrasena">
  <input type="hidden" name="task" value="login">
  <input type="submit" value="Enviar">
</form>

<form action="/vermarcas" method="get" class="buscadorformulario">
    Seleccionar para ver las marcas o no
    <select id="marcas" name="marcas">
        <option value='no ver'>No ver marcas</option>
        <option value='ver'>Ver marcas</option>
    </select>
    <input type="submit" value="Enviar">
</form>

<form action="/marcas" method="get" class="buscadorformulario">
    Pulsa seleccionar para ver las marcas
    <select id="marcas" name="marcas">
      {{#marcas}}<option value='{{nombre}}'>{{nombre}}</option>{{/marcas}}
    </select>
    <input type="submit" value="Enviar">
</form>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        let formularios = document.getElementsByClassName("buscadorformulario");
        formularios.forEach(formulario => {
            let select = formulario.querySelector("select");
            select.addEventListener("change", () => {
                console.log("Seleccionado");
                formulario.submit();
            });
        });
    });
</script>

</body>
</html>